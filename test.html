<html>
	<head>
		<title>Orbital Elements Test</title>
		<script type="text/javascript" src="jsorbits-solarsystem.js"></script>
		<script type="text/javascript">
			function updateStuff() {
				var now = new Date();
				var objs = {'mercury' : solarSystemOrbits.orbitalElementsMercury
					, 'venus' : solarSystemOrbits.orbitalElementsVenus
					, 'sun' : solarSystemOrbits.orbitalElementsSun
					, 'mars' : solarSystemOrbits.orbitalElementsMars
					, 'jupiter' : solarSystemOrbits.orbitalElementsJupiter};
				var s = "";
				for(var obj in objs){
					var x  = solarSystemOrbits.orbitalCoordinatesForBodyOnDate(now, objs[obj]);
                                        var xp = solarSystemOrbits.convertToGeocentricCoordinates(x);
                                        var rp = solarSystemOrbits.siderealTimeHourAngleAltitudeAndAzimuth(xp, 33.47389 , -117.13972);

                                        s = s + printCoords(obj, rp);
				}

				document.getElementById('output').innerHTML = s;

				setTimeout("updateStuff()", 2000);

			}
                        function printCoords(name, coords){
                            var strn =  "<h2>" + name + "</h2><table>";
                            strn = strn + "<tr><td>N</td><td>" + coords.elements.N + "</td></tr>";
                            strn = strn + "<tr><td>i</td><td>" + coords.elements.i + "</td></tr>";
                            strn = strn + "<tr><td>w</td><td>" + coords.elements.w + "</td></tr>";
                            strn = strn + "<tr><td>a</td><td>" + coords.elements.a + "</td></tr>";
                            strn = strn + "<tr><td>e</td><td>" + coords.elements.e + "</td></tr>";
                            strn = strn + "<tr><td>M</td><td>" + coords.elements.M + "</td></tr>";
                            strn = strn + "<tr><td colspan='2'>Spherical</td></tr>";
                            strn = strn + "<tr><td>R</td><td>" + coords.spherical.r + "</td></tr>";
                            strn = strn + "<tr><td>LAT</td><td>" + coords.spherical.lat + "</td></tr>";
                            strn = strn + "<tr><td>LON</td><td>" + coords.spherical.lon + "</td></tr>";
                            strn = strn + "<tr><td colspan='2'>Rectangle</td></tr>";
                            strn = strn + "<tr><td>X</td><td>" + coords.rectangle.x + "</td></tr>";
                            strn = strn + "<tr><td>Y</td><td>" + coords.rectangle.y + "</td></tr>";
                            strn = strn + "<tr><td>Z</td><td>" + coords.rectangle.z + "</td></tr>";
                            if(coords.altitude && coords.azimuth){
                                strn = strn + "<tr><td>ALT</td><td>" + coords.altitude + "</td></tr>";
                                strn = strn + "<tr><td>AZM</td><td>" + coords.azimuth  + "</td></tr>";
                            }
                            strn = strn + "</table>";
                            return strn;
                        }
			function buttonClicked(){
				var now = new Date();

				var x  = solarSystemOrbits.orbitalCoordinatesForBodyOnDate(now, solarSystemOrbits.orbitalElementsMercury);
                                var xp = solarSystemOrbits.convertToGeocentricCoordinates(x);
                                var rp = solarSystemOrbits.convertToTropocentricCoordinates(xp, 33.47389 , -117.13972);
				//updateStuff();
			}
</script>
	</head>
	<body>
		<button type="button" onclick="buttonClicked();">Click Me</button>
		<div id="output"/>
		</body>
	</html>
